from django.shortcuts import render, get_object_or_404
from .models import Module
from django.core import serializers
from django.http import HttpResponse
import string

LIST_OF_MODULES_TO_SEARCH = {
'abaqus' : ['finite element analysis', 'Engineering'],
'abinit' : ['Chemistry', 'materials modeling', 'density functional theory', 'optimization', 'simulation'],
'ADF' : ['Chemistry', 'Molecular Dynamics', 'quantum mechanics', 'density functional theory', 'parallel binaries'],
'AFNI' : ['Magnetic Resonance Imaging (MRI)'],
'alphafold' : ['Chemistry'],
'alsa-lib' : ['Audio and Visualization Libraries and Tools'],
'ambertools' : ['Chemistry', 'Molecular Dynamics'],
'ampl' : ['Programming Language'],
'anicalculator': ['Genomics', 'ANI', 'Genomics - classification tools'],
'ansys' : ['Engineering'],
'AnsysEM' : ['Engineering'],
'Ansys-Fluent' : ['Engineering'],
'ant' : ['Software Tools', 'java'],
'ants' : ['Magnetic Resonance Imaging (MRI)'],
'anvio' : ['Genomics', 'Genomics - analytical tools', 'Genomics utilities - visualization tools'],
'aria' : ['Software Tools'],
'armadillo' : ['Linear Algebra', 'Numerical Methods'], ## Linear Algebra
'ase' : ['Chemistry', 'Molecular Dynamics'],
'aspera' : ['Software Tools'],
'atk' : ['Chemistry'],
'ATLAS' : ['Linear Algebra', 'Numerical Methods'], ## Linear Algebra 
'atom' : ['Text Editor'],
'awscli' : ['Software Tools'],
'bam-readcount' : ['Genomics', 'Genomics - RNA-seq', 'Genomics - analytical tools'],
'bamtools' : ['Genomics', 'Genomics - sequence alignment', 'Genomics - analytical tools'],
'baron' : ['Numerical Methods'], ## Non-linear optimization
'bart' : ['Magnetic Resonance Imaging (MRI)'],
'basespace' : ['Genomics', 'Genomics - analytical tools', 'cloud'],
'bazel' : ['Compiler'],
'BBMap' : ['Genomics', 'Genomics - sequence alignment', 'Genomics - RNA-seq'],
'bcbio_nextgen' : ['Genomics', 'python', 'Genomics - analytical tools'],
'BCBToolKit' : ['Genomics', 'python', 'Genomics - analytical tools'],
'bcftools' : ['Genomics', 'Genomics - variant calling/analysis', 'Genomics utlities - analytical pipelines'],
'bcl2fastq' : ['Genomics', 'Genomics - data conversion/transfer'],
'beagle-cpu' : ['Genomics'],
'bedops' : ['Genomics', 'Genomics - analytical tools'],
'bedtools' : ['Genomics', 'Genomics - analytical tools'],
'bismark' : ['Genomics', 'bisulfite mapping', 'methylation calling'],
'blas-lapack' : ['Linear Algebra', 'Numerical Methods'], ## Linear Algebra 
'blast' : ['Genomics', 'Genomics - sequence alignment', 'Genomics - classification tools'],
'blatsuite' : ['Genomics', 'Genomics - sequence alignment'],
'blcr' : ['parallel', 'checkpointing', 'Software Tools'],
'boost' : ['Software Tools'],
'bowtie' : ['Genomics', 'Genomics - sequence alignment'],
'bowtie2' : ['Genomics', 'Genomics - sequence alignment'],
'bsmap' : ['Genomics', 'Genomics - analytical tools', 'bisulfite mapping', 'methylation calling'],
'bwa' : ['Genomics', 'Genomics - sequence alignment'],
'cairo' : ['Audio and Visualization Libraries and Tools'],
'casa' : ['Astrophysics'],
'cassi' : ['Genomics', 'SNPs', 'Genomics - variant calling/analysis'],
'cellranger' : ['Genomics', 'Genomics - sequence alignment', 'Genomics - analytical tools', 'RNA-seq'],
'cellranger-atac' : ['Genomics', 'Genomics - analytical tools'],
'CfitsIO' : ['Files and IO'],
'cgal' : ['Numerical Methods'], ## computational geometry
'charm' : ['parallel'],
'charmpp' : ['parallel'],
'checkm' : ['Genomics', 'quality assessment'],
'chemaxon_marvin' : ['Chemistry'],
'chemaxon_structure_rep' : ['Chemistry'],
'chimera' : ['Chemistry', 'Audio and Visualization Libraries and Tools'],
'clang' : ['Compiler'],
'cmake' : ['Software Tools'],
'cmdstan' : ['Programming Language'],
'connectome_workbench' : ['Magnetic Resonance Imaging (MRI)'],
'copasul' : ['Audio and Visualization Libraries and Tools'],
'cp2k' : ['Chemistry', 'Molecular Dynamics', 'quantum mechanics'],
'cplex' : ['Numerical Methods'], ## Optimizer
'CrisprCasFinder' : ['Genomics', 'Genomics - analytical tools'],
'cuda' : ['Compiler'],
'cufflinks' : ['Genomics', 'Genomics - analytical tools', 'Genomics - RNA-seq'],
'curl' : ['Software Tools'],
'cytoscape' : ['Genomics', 'Genomics - analytical tools'],
'db' : ['Files and IO'],
'ddd' : ['Audio and Visualization Libraries and Tools'],
'deeptools' : ['Genomics', 'Genomics - analytical tools', 'Genomics - RNA-seq', 'ChIP-seq', 'MNase-seq'],
'diamond' : ['Genomics', 'Genomics - sequence alignment'],
'diffreps' : ['Genomics', 'Genomics - analytical tools', 'ChIP-seq'],
'dynare' : ['Economics'],
'dyninst' : ['Software Tools'],
'eclipse' : ['Software Tools', 'java'],
'eigen' : ['Linear Algebra', 'Numerical Methods'], ## Linear Algebra
'elfutils' : ['Files and IO'],
'emacs' : ['Text Editor'],
'epacts' : ['Genomics', 'Genomics - analytical tools'],
'espresso' : ['Chemistry'],
'expansionhunter' : ['Genomics', 'Genomics - analytical tools'],
'expat' : ['Files and IO'],
'fastani' : ['Genomics', 'ANI'],
'fastqc' : ['Genomics', 'quality assessment'],
'fasttree' : ['Genomics', 'Genomics - taxonomic/phylogenetic tools'],
'FastTreeMP' : ['Genomics', 'Genomics - taxonomic/phylogenetic tools', 'parallel'],
'fenics27' : ['Compilers', 'finite element analysis', 'Engineering'],
'ffmpeg' : ['Files and IO', 'Audio and Visualization Libraries and Tools'],
'fftw' : ['Fourier Transform'], ## Fourier Transform
'fMRIPrep' : ['Magnetic Resonance Imaging (MRI)'],
'freesurfer' : ['Magnetic Resonance Imaging (MRI)'],
'freetype' : ['Software Tools'],
'fsl' : ['Magnetic Resonance Imaging (MRI)'],
'gamess' : ['Chemistry'],
'gap' : ['Numerical Methods'], ## Computational Discrete Algebra
'gatk' : ['Genomics', 'SNPs', 'Genomics - variant calling/analysis', 'Genomics - analytical tools', 'Genomics - data conversion/transfer'],
'gauss' : ['Programming Language'],
'Gaussian' : ['Chemistry'],
'Gaussian16' : ['Chemistry'],
'gcc' : ['Compiler'],
'gcloud' : ['Software Tools'],
'gdal' : ['Files and IO'],
'gdb' : ['Software Tools'],
'gdbm' : ['Files and IO'],
'gdc-client' : ['Genomics', 'Genomics - data conversion/transfer'],
'gdk-pixbuf' : ['Audio and Visualization Libraries and Tools'],
'geany' : ['Text Editor'],
'GeneTorrent' : ['Genomics', 'Genomics - data conversion/transfer'],
'GenomeBrowse' : ['Genomics', 'visualization tools'],
'geos' : ['Software Tools'],
'gettext' : ['Files and IO'],
'gffcompare' : ['Genomics', 'Genomics - RNA-seq', ''],
'gffread' : ['Genomics', 'Genomics - data conversion/transfer'],
'ghc' : ['Compiler'],
'ghostscript' : ['Programming Language'],
'git' : ['Software Tools', 'version control software'],
'gnumeric' : ['Audio and Visualization Libraries and Tools'],
'gnuplot' : ['Audio and Visualization Libraries and Tools'],
'go' : ['Programming Language'],
'gold' : ['Genomics'],
'GotoBlas' : ['Linear Algebra', 'Numerical Methods'], ## Linear Algebra
'gpaw' : ['Chemistry', 'density functional theory'],
'grace' : ['Audio and Visualization Libraries and Tools'],
'gradle' : ['Software Tools', 'IDE'],
'graphlib' : ['Audio and Visualization Libraries and Tools'],
'graphviz' : ['Audio and Visualization Libraries and Tools'],
'GRASS' : ['Audio and Visualization Libraries and Tools'],
'gromacs' : ['Molecular Dynamics'],
'gsl' : ['Linear Algebra', 'Numerical Methods', 'Software Tools'], ## Linear Algebra
'gstreamer' : ['Files and IO'],
'gtk+' : ['Audio and Visualization Libraries and Tools'],
'gtool' : ['Genomics', 'SNPs', 'Genomics - variant calling/analysis', 'Genomics - analytical tools'],
'guppy' : ['Genomics', 'visualization tools'],
'gurobi' : ['Numerical Methods'], ## Optimizer
'hdf5' : ['Files and IO'],
'hic-pro' : ['Genomics', 'Genomics - analytical tools', 'Hi-C'],
'hisat2' : ['Genomics', 'Genomics - sequence alignment', 'Genomics - RNA-seq'],
'hmmer' : ['Genomics', 'Genomics - classification tools', 'Genomics - sequence alignment'],
'homer' : ['Genomics'],
'htslib' : ['Genomics', 'Genomics - sequence alignment'],
'hypre' : ['Numerical Methods'], ## solving linear systems of equations, optimizer
'icu4c' : ['Software Tools', 'java'],
'idba' : ['Genomics', 'Genomics - analytical tools', 'Genomics utilities - sequence assembler'],
'igv' : ['Genomics', 'visualization tools'],
'ImageJ' : ['Magnetic Resonance Imaging (MRI)', 'Audio and Visualization Libraries and Tools'],
'ImageMagick' : ['Audio and Visualization Libraries and Tools'],
'impute2' : ['Genomics', 'Genomics - analytical tools'],
'imsl' : ['Linear Algebra', 'Numerical Methods'],
'indelocator' : ['Genomics', 'Genomics - variant calling/analysis', 'Genomics - analytical tools'],
'intel' : ['Compiler'],
'intel-mkl' : ['Linear Algebra', 'Numerical Methods', 'Fourier Transform'], ## Linear Algebra, Fourier Transform
'intltool' : ['Files and IO'],
'ipopt' : ['Numerical Methods'], ## non-linear optimization
'iread' : [],
'jags' : ['statistical computing'],
'java' : ['Programming Language'],
'jellyfish' : ['Genomics'],
'jq' : ['Files and IO'],
'juicer' : ['Genomics'],
'julia' : ['Programming Language'],
'kallisto' : ['Genomics', 'Genomics - RNA-seq'],
'kentUtils' : ['Genomics', 'Genomics - analytical tools', 'Genomics utilities - visualization tools'],
'kim-api' : ['Chemistry', 'Molecular Dynamics'],
'knitro' : ['Numerical Methods'], ## non-linear optimization
'kraken' : ['Genomics', 'Genomics - taxonomic/phylogenetic tools'],
'krona' : ['Genomics', 'visualization tools'],
'kSNP' : ['Genomics', 'SNPs', 'Genomics - variant calling/analysis'],
'lammps' : ['Molecular Dynamics'],
'latte' : ['Molecular Dynamics'],
'lazarus' : ['Software Tools', 'IDE'],
'leptonica' : ['Audio and Visualization Libraries and Tools'],
'lftp' : ['Files and IO'],
'libreoffice' : ['Audio and Visualization Libraries and Tools'],
'liggghts-public' : ['Chemistry', 'Molecular Dynamics'],
'lp_solve' : ['Numerical Methods'], ## linear solver
'lumerical' : ['programmining language', 'Chemistry', 'FDTD'],
'MACS2' : ['Genomics', 'Genomics - analytical tools', 'ChIP-seq'],
'mafft' : ['Genomics', 'Genomics - sequence alignment'],
'mageck' : ['Genomics', 'Genomics - analytical tools'],
'mageck_vispr' : ['Genomics', 'Genomics - analytical tools', 'visualization tools'],
'makedepf90' : ['Software Tools'],
'manta' : ['Files and IO'],
'mathematica' : ['Programming Language'],
'matlab' : ['Programming Language'],
'matlabstan' : ['Numerical Methods'], ## Bayesian Inference
'meep' : ['Chemistry', 'FDTD'],
'megahit' : ['Genomics', 'Genomics - assembly tools'],
'meme' : ['Genomics', 'Genomics - analytical tools', 'Genomics - analytical tools'],
'mercurial' : ['Software Tools', 'version control software'],
'metabat' : ['Genomics', 'Genomics - analytical tools'],
'metal' : ['Genomics', 'Genomics - analytical tools', ''],
'metamap' : ['Files and IO'],
'metaxa2' : ['Genomics', 'Genomics - taxonomic/phylogenetic tools'],
'metis' : ['Genomics', 'annotation tools', 'Numerical Methods'],
'mlpack' : ['Numerical Methods'],
'mono' : ['Software Tools'],
'motif' : ['Audio and Visualization Libraries and Tools'],
'mpb' : ['Chemistry', 'Numerical Methods'],
'mpi' : ['parallel', 'Compiler'],
'mpi4py' : ['parallel'],
'mricrogl' : ['Magnetic Resonance Imaging (MRI)'],
'mrtrix3' : ['Magnetic Resonance Imaging (MRI)'],
'multiqc' : ['Genomics', 'quality assessment'],
'mumps' : ['Programming Language'],
'muscle' : ['Genomics', 'Genomics - sequence alignment'],
'mutect' : ['Genomics', 'Genomics - analytical tools', 'Genomics - variant calling/analysis'],
'mysql' : ['Files and IO'],
'namd' : ['Molecular Dynamics'],
'nano' : ['Text Editor'],
'ncl' : ['Programming Language', 'Audio and Visualization Libraries and Tools'],
'nco' : ['Files and IO'],
'ncurses' : ['Audio and Visualization Libraries and Tools'],
'ndiff' : ['Files and IO'],
'netCDF' : ['Files and IO'],
'netcdf-c' : ['Files and IO'],
'netcdf-fortran' : ['Files and IO'],
'netlib-scalapack' : ['Linear Algebra', 'Numerical Methods'],
'netlogo' : ['Programming Language'],
'ngsplot' : ['Genomics', 'visualization tools'],
'nlopt' : ['Numerical Methods'], ## nonlinear optimization
'novocraft' : ['Genomics', 'Genomics - analytical tools'],
'numpy' : ['Python'],
'nwchem' : ['Chemistry', 'Molecular Dynamics', 'quantum mechanics'],
'ocaml' : ['Programming Language'],
'octave' : ['Programming Language'],
'oncotator' : ['Genomics', 'annotation tools', 'Genomics - variant calling/analysis'],
'openbabel' : ['Chemistry'],
'openblas' : ['Linear Algebra', 'Numerical Methods'],
'OpenBugs' : ['statistical computing'],
'opencl' : ['Programming Language'],
'openmd' : ['Molecular Dynamics'],
'orca' : ['Chemistry'],
'oxconsole' : ['IDE'],
'oxedit' : ['Text Editor'],
'p7zip' : ['Files and IO'],
'pandoc' : ['Files and IO'],
'papi' : ['Software Tools'],
'parallel' : ['parallel'],
'paraview' : ['Audio and Visualization Libraries and Tools'],
'parmetis' : ['Parallel', 'Numerical Methods'], ## Parallel Graph Partitioning and Fill-reducing Matrix Ordering.
'parsec' : ['Chemistry'],
'pBWA' : ['Genomics', 'Genomics - sequence alignment', 'parallel'],
'pdflib-lite' : ['Files and IO'],
'peer' : [],
'penncnv' : ['Genomics', 'SNPs', 'Genomics - variant calling/analysis'],
'perl' : ['Programming Language'],
'petsc' : ['Numerical Methods'], ## The Portable, Extensible Toolkit for Scientific Computation, is a suite of data structures and routines developed by Argonne National Laboratory for the scalable solution of scientific applications modeled by partial differential equations
'pexsi' : ['Chemistry', 'density functional theory'],
'phylocsf' : ['Genomics', 'Genomics - RNA-seq'],
'picard' : ['Genomics', 'Genomics - analytical tools', 'Genomics - variant calling/analysis', 'Genomics - sequence alignment'],
'pigz' : ['Files and IO'],
'pindel' : ['Genomics', 'Genomics - variant calling/analysis', 'Genomics - variant calling/analysis', 'Genomics - analytical tools'],
'plink' : ['Genomics', 'Genomics - analytical tools', 'Genomics utilities - visualization tools'],
'plumed' : ['Molecular Dynamics'],
'poppler' : ['Files and IO'],
'povray' : ['Audio and Visualization Libraries and Tools'],
'pplacer' : ['Genomics', 'Genomics - analytical tools', 'Genomics utilities - visualization tools'],
'prada' : ['Genomics', 'Genomics - analytical tools', 'Genomics - RNA-seq'],
'prodigal' : ['Genomics', 'annotation tools'],
'proj' : ['Software Tools'],
'protobuf' : ['Files and IO'],
'PRSice' : ['Genomics', 'Genomics - analytical tools'],
'python' : ['Programming Language'],
'python-anaconda3' : ['Programming Language'],
'python-miniconda3' : ['Programming Language'],
'qchem' : ['Chemistry'],
'qctool' : ['Genomics', 'Genomics - variant calling/analysis', 'Genomics utilities - quality assessment'],
'qe' : ['Chemistry'],
'qhull' : ['Numerical Methods'], ## computational geometry
'qiime2' : ['Genomics', 'Genomics - analytical tools', 'Genomics - taxonomic/phylogenetic tools'],
'qt' : ['Audio and Visualization Libraries and Tools'],
'qualimap' : ['Genomics', 'Genomics - sequence alignment', 'Genomics - RNA-seq', 'ChIP-seq'],
'quantum-espresso' : ['Chemistry'],
'R' : ['Programming Language', 'statistical computing'],
'raxml' : ['Genomics', 'Genomics - taxonomic/phylogenetic tools'],
'rfmix' : ['Genomics', 'Genomics - analytical tools', 'Genomics - taxonomic/phylogenetic tools'],
'rmats2sashimiplot' : ['Genomics', 'visualization tools', 'Genomics - RNA-seq'],
'rmats_turbo' : ['Genomics', 'Genomics - analytical tools', 'Genomics - RNA-seq'],
'rsem' : ['Genomics', 'Genomics - analytical tools', 'Genomics - RNA-seq'],
'ruby' : ['Programming Language'],
'rufus' : ['Genomics', 'Genomics - analytical tools', 'Genomics - variant calling/analysis'],
'sage' : ['Genomics', 'Genomics - analytical tools', 'epidemiology tools'],
'sailfish' : ['Genomics', 'Genomics - analytical tools', 'Genomics - RNA-seq'],
'salmon' : ['Genomics', 'Genomics - RNA-seq', 'Genomics - sequence alignment'],
'samtools' : ['Genomics', 'Genomics - sequence alignment'],
'sas' : ['Programming Language'],
'scala' : ['Programming Language'],
'scalapack' : ['Linear Algebra', 'Numerical Methods'],
'scallop' : ['Genomics', 'Genomics - RNA-seq', 'Genomics - sequence alignment'],
'schrodinger' : ['Material Science', 'Engineering'],
'scons' : ['Software Tools'],
'sdpt3' : ['MATLAB'], # optimization
'seqkit' : ['Genomics', 'Genomics - analytical tools'],
'seqtk' : ['Genomics', 'Genomics - analytical tools'],
'shapeit' : ['Genomics', 'Genomics - analytical tools', 'SNPs', 'Genomics - variant calling/analysis'],
'singularity' : ['Software Tools'],
'sirius' : ['Chemistry', 'Molecular Dynamics'],
'slepc' : ['Numerical Methods'], ## solution of large scale sparse eigenvalue problems on parallel computers.
'snakemake' : ['Software Tools'],
'snpEff' : ['Genomics', 'Genomics - sequence alignment', 'SNPs', 'Genomics - variant calling/analysis'],
'snptest' : ['Genomics', 'SNPs', 'Genomics - variant calling/analysis'],
'soapdenovo2' : ['Genomics', 'Genomics - sequence alignment', 'Genomics - assembly tools'],
'SolexaQA++' : ['Genomics', 'quality assessment'],
'spades' : ['Genomics', 'Genomics - assembly tools'],
'spark' : ['Files and IO'],
'specfem3d_globe' : [],
'speedseq' : ['Genomics', 'Genomics - sequence alignment', 'Genomics - assembly tools', 'SNPs', 'Genomics - variant calling/analysis'],
'spfft' : ['Numerical Methods', 'Fourier Transform'],
'spglib' : ['Molecular Dynamics'],
'spla' : ['Numerical Methods', 'Linear Algebra'],
'spm' : ['Magnetic Resonance Imaging (MRI)'],
'sqlite' : ['Files and IO'],
'sratoolkit' : ['Genomics', 'Genomics - data conversion/transfer'],
'STAR' : ['Genomics', 'Genomics - RNA-seq', 'Genomics - sequence alignment'],
'STAR-Fusion' : ['Genomics', 'Genomics - RNA-seq', 'Genomics - sequence alignment'],
'stat' : ['Numerical Methods'],
'stata' : ['Programming Language'],
'stattransfer' : ['Files and IO'],
'strelka' : ['Genomics', 'Genomics - variant calling/analysis'],
'stress' : ['Software Tools'],
'stringtie' : ['Genomics', 'Genomics - RNA-seq', 'Genomics - sequence alignment'],
'subread' : ['Genomics', 'Genomics - RNA-seq', 'Genomics - sequence alignment', 'Genomics - variant calling/analysis'],
'SuiteSparse' : ['Numerical Methods'],
'superlu' : ['Numerical Methods'],
'superlu-dist' : ['Numerical Methods'],
'suppa' : ['Genomics', 'Genomics - RNA-seq'],
'swig' : ['Software Tools'],
'tar' : ['Files and IO'],
'tau' : ['Software Tools'],
'tcl' : ['Programming Language'],
'telseq' : ['Genomics', 'Genomics - analytical tools'],
'tesseract' : [],
'texlive' : ['Compiler'],
'tickwrite' : ['Economics'],
'tig' : ['Software Tools', 'version control software', 'git'],
'tmux' : ['Software Tools'],
'tophat' : ['Genomics', 'Genomics - RNA-seq'],
'Tramonto' : ['Material Science', 'Biology'],
'TrimGalore' : ['Genomics', 'Genomics - analytical tools'],
'trimmomatic' : ['Genomics', 'Genomics - analytical tools'],
'uchime' : ['Genomics', 'quality assessment'],
'udunits2' : ['Software Tools'],
'utilities' : ['Software Tools', 'Software Tools'],
'valgrind' : ['Software Tools'],
'vasp' : ['Chemistry'],
'vcftools' : ['Genomics', 'Genomics - variant calling/analysis', 'Genomics - analytical tools'],
'velvet' : ['Genomics', 'Genomics - sequence alignment', 'Genomics - assembly tools'],
'vesta' : ['Material Science', 'Audio and Visualization Libraries and Tools'],
'vim' : ['Text Editor'],
'visit' : ['Audio and Visualization Libraries and Tools'],
'vmd' : ['Molecular Dynamics', 'Audio and Visualization Libraries and Tools'],
'voropp' : ['Numerical Methods'],
'vtk' : ['Audio and Visualization Libraries and Tools'],
'wannier' : ['Chemistry'],
'wine' : ['Software Tools'],
'wxwidgets' : ['Audio and Visualization Libraries and Tools'],
'xander_assembler' : ['Genomics', 'Genomics - sequence alignment', 'Genomics - assembly tools'],
'xcb-proto' : ['Software Tools'],
'xmlsec' : ['Files and IO'],
'xpdf' : ['Files and IO'],
'xz' : ['Files and IO'],
'yaml-cpp' : ['Files and IO'],
'yasm' : ['Software Tools'],
'zstd' : ['Files and IO'],
}




LIST_OF_SOFTWARE = list(LIST_OF_MODULES_TO_SEARCH.keys())

# Create your views here.
letters_a_to_z = [ i for i in string.ascii_uppercase]

def index(request):
    modules = Module.objects.filter(name__in=LIST_OF_SOFTWARE)
    all_keywords = []
    for module in modules:
        if module.primary_keywords is not None:
            for keyword in module.primary_keywords:
                all_keywords.append(keyword)
    all_keywords = set(sorted(all_keywords))
    
    return render(request, 'modules/index.html', {"modules" : modules, "all_keywords" : all_keywords, 'letters_a_to_z' : letters_a_to_z})

def module_json(request):
    modules = Module.objects.filter(name__in=LIST_OF_SOFTWARE)
    modules_list = serializers.serialize('json', modules)
    return HttpResponse(modules_list, content_type="text/json-comment-filtered")
